{% extends "layout.jinja2" %}

{% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
        
        body {
            text-align: center;
        }

        .form-signin {
            width: 100%;
            max-width: 30%;
            padding: 1%;
            margin: auto;
        }
    </style>
{% endblock css %}

{% block content %}
    <main class="form-signin">
        <img src="{{ url_for('static', filename='img/logo4.png') }}" width="30%" alt="logo" />
        <h1 class="my-4 display-3">Please sign in</h1>

        {% for message in get_flashed_messages() %}
            <div class="alert alert-warning">
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                {{ message }}
            </div>
        {% endfor %}

        <form method="POST" action="/login">
            {{ form.csrf_token }}
            <div class="form-floating">
                {{ form.email(
                    placeholder="name@example.com",
                    class="form-control",
                    id="floatingInput"
                ) }}

                {% if form.email.errors %}
                <ul class="errors">
                    {% for error in form.email.errors %}
                    <li>{{ error }}</li>{% endfor %}
                </ul>
                {% endif %}
                
                <label for="floatingInput">{{ form.email.label }}</label>
            </div>
            <div class="form-floating">
                {{ form.password(placeholder="Password",class="form-control", id="floatingPassword") }}
                
                {% if form.email.errors %}
                    <ul class="errors">
                    {% for error in form.password.errors %}
                        <li>{{ error }}</li>{% endfor %}
                    </ul>
                {% endif %}
                
                <label for="floatingPassword">Password</label>
            </div>

            <div class="checkbox mb-3">
                <label>
                    {{ form.remember_me(class="form-check-input", id="remember-checkbox") }} {{ form.remember_me.label(class="form-check-label", for="remember-checkbox") }}
                </label>
            </div>
            {{ form.submit(class="w-100 btn btn-lg btn-primary") }}

            <p class="mt-5 mb-3 text-muted">Do not have an account?&ensp;<a href="/register">Create Now <i class="bi bi-arrow-right"></i></a></p>
        </form>
    </main>
{% endblock content %}